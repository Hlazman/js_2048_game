parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"KIzB":[function(require,module,exports) {
"use strict";function e(e){return i(e)||t(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,n){if(e){if("string"==typeof e)return c(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,n):void 0}}function t(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function i(e){if(Array.isArray(e))return c(e)}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}var o=document.querySelector(".game-score"),l=document.querySelector(".start"),a=document.querySelector(".message-container"),d=document.querySelectorAll(".field-row"),f=document.querySelectorAll(".field-cell"),s=function(){var e=new RegExp("\\bfield-cell--[^ ]*[ ]?\\b","g");f.forEach(function(n){""!==n.innerText&&n.classList.contains("field-cell--".concat(n.innerText))||(n.className=n.className.replace(e,"")),""!==n.innerText&&n.classList.add("field-cell--".concat(n.innerText))})},u=function(e,n){arguments.length>2&&void 0!==arguments[2]&&arguments[2];n?(e.style.transform="scale(1.2,1.2)",e.style.transition=".3s transform"):e.style.transform="scale(1,1)",setTimeout(function(){e.style.transform="scale(1,1)"},200)},h=function(e,n){return Math.floor(e+Math.random()*(n+1-e))},T=function(){return e(f).every(function(e){return""!==e.innerText})},x=function(){if(!1===T()){var e=Math.random()>.9?4:2,n=h(0,15);if(f[n].innerText)for(;""!==f[n].innerText;)n=h(0,15);f[n].innerText=e}},v=function(){var n=!1;e(d).forEach(function(e,r,t){for(var i=0;i<=3&&(t[r].children[i+1]&&t[i+1]);i++)if(t[r].children[i].innerText===t[r].children[i+1].innerText||t[i].children[r].innerText===t[i+1].children[r].innerText)return void(n=!0)}),n||a.children[0].classList.remove("hidden")},m=function(){e(f).some(function(e){return e.innerText>=2048})&&a.children[1].classList.remove("hidden")},p=function(e){for(var n=[],r=[],t=0;t<=3;t++){for(var i=0;i<=3;i++)"up"===e||"down"===e?r.push(d[i].children[t].innerText):r.push(d[t].children[i].innerText);n.push([].concat(r)),r.splice(0,4)}for(var c=0;c<=n.length-1;c++)for(var o=n.length-1;o>=0;o--){var l=void 0;l="up"===e||"left"===e?n[c].indexOf(""):n[c].lastIndexOf(""),n[c].includes("")&&(n[c].splice(l,1),l="up"===e||"left"===e?n[c].push(""):n[c].unshift(""))}for(var a=function(r){d.forEach(function(t,i){t.children[r].innerText="up"===e||"down"===e?n[r][i]:n[i][r]})},f=0;f<=3;f++)a(f);n.splice(0,4)},y=function(e,n,r){var t,i;"UP"!==e&&"RIGHT"!==e||(t=r+1,i=r-1),"DOWN"!==e&&"LEFT"!==e||(t=r-1,i=r+1),"UP"!==e&&"DOWN"!==e||d[r].children[n].innerText.length&&d[r].children[n].innerText===d[t].children[n].innerText&&(d[r].children[n].innerText=2*d[r].children[n].innerText,d[t].children[n].innerText="",o.innerText=+o.innerText+ +d[r].children[n].innerText,u(d[r].children[n],!0),d[i]&&""===d[i].children[n].innerText&&(u(d[r].children[n],!1),u(d[i].children[n],!0))),"LEFT"!==e&&"RIGHT"!==e||d[n].children[r].innerText.length&&d[n].children[r].innerText===d[n].children[t].innerText&&(d[n].children[r].innerText=2*d[n].children[r].innerText,d[n].children[t].innerText="",o.innerText=+o.innerText+ +d[n].children[r].innerText,u(d[n].children[r],!0),""===d[n].children[t].innerText&&(u(d[n].children[r],!1),u(d[n].children[t],!0)))},g=function(){p("up");for(var e=0;e<=3;e++)for(var n=0;n<=3&&d[n+1];n++)y("UP",e,n);p("up")},w=function(){p("down");for(var e=3;e>=0;e--)for(var n=3;n>=0&&d[n-1];n--)y("DOWN",e,n);p("down")},b=function(){p("left");for(var e=0;e<=3;e++)for(var n=3;n>=0&&d[e].children[n-1];n--)y("LEFT",e,n);p("left")},L=function(){p("right");for(var e=0;e<=3;e++)for(var n=0;n<=3&&d[e].children[n+1];n++)y("RIGHT",e,n);p("right")};l.addEventListener("click",function(){f.forEach(function(e){e.innerText=""}),x(),x(),s(),l.innerText="Restart",o.innerText=0,l.classList.add("restart"),l.classList.remove("start"),e(a.children).forEach(function(e){e.classList.add("hidden")})}),document.addEventListener("keydown",function(e){if(e.preventDefault(),l.classList.contains("restart")){switch(e.key){case"ArrowUp":g();break;case"ArrowDown":w();break;case"ArrowRight":L();break;case"ArrowLeft":b()}x(),s(),m(),!0===T()&&v()}});
},{}]},{},["KIzB"], null)
//# sourceMappingURL=main.f7be7b56.js.map